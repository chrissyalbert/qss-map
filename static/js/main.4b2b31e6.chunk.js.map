{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["ioClient","io","on","console","log","id","App","useState","usersLocations","setUsersLocations","isLoading","setLoading","showLocations","setShowLocations","useEffect","axios","method","baseURL","url","headers","then","response","data","locations","catch","error","className","Container","role","Button","variant","disabled","onClick","length","map","loc","latitude","longitude","_id","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mPAQMA,EAAWC,IAAG,8CACpBD,EAASE,GAAG,WAAW,WACjBC,QAAQC,IAAIJ,EAASK,OA2GZC,MAxGf,WAAe,MAuC+BC,mBAAS,IAvCxC,mBAuCNC,EAvCM,KAuCUC,EAvCV,OA0DmBF,oBAAS,GA1D5B,mBA0DNG,EA1DM,KA0DKC,EA1DL,OA2D6BJ,oBAAS,GA3DtC,mBA2DNK,EA3DM,KA2DSC,EA3DT,KA0Eb,OAdAC,qBAAU,WACJJ,GAnBGK,IAAM,CACXC,OAAQ,MACRC,QAAS,6CACTC,IAAK,YACLC,QAAS,CACP,eAAgB,sBAGnBC,MAAK,SAACC,GACLlB,QAAQC,IAAIiB,GACZZ,EAAkBY,EAASC,KAAKC,cAEjCC,OAAM,SAACC,GACNtB,QAAQsB,MAAMA,MAQbL,MAAK,WACJT,GAAW,GACXE,GAAiB,QAGpB,CAACH,IA9DFP,QAAQC,IAAI,6BAqEZ,qBAAKsB,UAAU,UAAf,SACE,eAACC,EAAA,EAAD,CAAWD,UAAU,uCAArB,UACA,wBAAQA,UAAU,mBAAlB,SACE,qBAAKA,UAAU,QAAf,SACE,oBAAIA,UAAU,4BAAd,iCAGJ,uBAAME,KAAK,OAAOF,UAAU,cAA5B,UACE,oBAAIA,UAAU,gBAAd,gCACA,mBAAGA,UAAU,OAAb,gIAEA,cAACG,EAAA,EAAD,CACEC,QAAQ,QACRC,SAAUrB,EACVsB,QAAUtB,EAA8B,KAnBxB,kBAAMC,GAAW,IAgBnC,SAKDD,EAAY,gBAAa,mBAE1B,cAACmB,EAAA,EAAD,CAAQC,QAAQ,QAAQE,QAtBH,kBAAMnB,GAAiB,IAsB5C,6BACA,6BACCL,EAAeyB,OAAS,GAAKrB,GAClCJ,EAAe0B,KAAI,SAAAC,GAAG,OAAI,4CAA6BA,EAAIC,SAAjC,gBAAwDD,EAAIE,YAAnDF,EAAIG,mBCjG1BC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBrB,MAAK,YAAkD,IAA/CsB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UAEI,cAAC,EAAD,MAGJC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.4b2b31e6.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport  io  from \"socket.io-client\";\n\nimport './App.css';\nimport axios from 'axios'\n\nconst ioClient = io(\"https://quiet-plateau-57365.herokuapp.com/\");\nioClient.on(\"connect\", () => {\n      console.log(ioClient.id); // x8WIv7-mJelg7on_ALbx\n    });\n\nfunction App() {\n  function getLocation() {\n    // if (navigator.geolocation){\n    //   navigator.geolocation.getCurrentPosition(function(position) {\n    //     postToMongoDBAtlas(position.coords)\n    //   });\n    console.log('in function getLocation()')\n    }\n  \n  \n  \n  function postToMongoDBAtlas(coordinates) {\n    const { latitude, longitude} = coordinates\n    const data = {\n      \"latitude\": `${latitude}`,\n      \"longitude\": `${longitude}`,\n    }\n    // GeolocationCoordinates { latitude: 33.7227231111664, longitude: -111.9814122972247, altitude: 536.8526000976562, accuracy: 65, altitudeAccuracy: 10, heading: null, speed: null \n    // };\n    axios({\n      method: 'post',\n      baseURL: 'https://quiet-plateau-57365.herokuapp.com/',\n      url: 'locations',\n      data,\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n    .then((response) => {\n      // The response comes here\n      console.log(response);\n      return response\n    })\n    .catch((error) => {\n      // Errors are reported there\n      console.log(error);\n    });\n  }\n\n  const [usersLocations, setUsersLocations] = useState([])\n\n  const getUsersLocations = () => {\n    return axios({\n      method: 'get',\n      baseURL: 'https://quiet-plateau-57365.herokuapp.com/',\n      url: 'locations',\n      headers: {\n        \"Content-Type\": \"application/json\",\n      }\n    })\n    .then((response) => {\n      console.log(response)\n      setUsersLocations(response.data.locations)\n    })\n    .catch((error) => {\n      console.error(error);\n    });\n  }\n  const [isLoading, setLoading] = useState(false);\n  const [showLocations, setShowLocations] = useState(false);\n  useEffect(() => {\n    if (isLoading) {\n      getUsersLocations()\n      .then(() => {\n        setLoading(false);\n        setShowLocations(true);\n      });\n    } \n  }, [isLoading]);\n\n  const handleLoadClick = () => setLoading(true);\n  const handleClearClick = () => setShowLocations(false);\n\n  getLocation()\n  return (\n    <div className=\"landing\" >\n      <Container className=\"App d-flex h-100 mx-auto flex-column\">\n      <header className=\"masthead mb-auto\">\n        <div className=\"inner\">\n          <h3 className=\"masthead-brand text-light\">Light the World</h3>\n        </div>\n      </header>\n      <main role=\"main\" className=\"inner cover\">\n        <h1 className=\"cover-heading\">Unleash your Light</h1>\n        <p className=\"lead\">Click \"Allow Location Access\" at the prompt from your browser so that your light can be seen by all our community.</p>\n        \n        <Button\n          variant=\"light\"\n          disabled={isLoading}\n          onClick={!isLoading ? handleLoadClick : null}\n        >\n      {isLoading ? 'Loadingâ€¦' : 'Show Locations'}\n      </Button>\n      <Button variant=\"light\" onClick={handleClearClick} >Clear Locations</Button>\n      <ul>\n      {usersLocations.length > 0 && showLocations &&\n  usersLocations.map(loc => <li key={loc._id}>Latitude: {loc.latitude}  Longitude: {loc.longitude}</li>)}\n  </ul>\n      </main>\n    </Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import { HashRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    \n      <App />\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}